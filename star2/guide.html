<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=640"/> 
	<title>测试_test吧</title>
	<link rel="shortcut icon" href="http://tb1.bdstatic.com/tb/favicon.ico" />
	<link rel="stylesheet" type="text/css" href="css/reset.css">
	<link rel="stylesheet" type="text/css" href="css/home.css">
</head>
<body>
	<div class="view-spot">
		<div class="guider-summary">
			<img src="./img/home/5.png" width=640 height=826 >
			<div class='guider-name'>习近平</div>
			<i class="see-more-pic"></i>
		</div>
	</div>
	<div class="view-spot">
		<div class="guider-info">
			<ul class="guide-infos clearfix">
				<li>
					<span class="guide-desc">区域</span>
					<span class="guide-info">巴黎</span>
				</li>
				<li>
					<span class="guide-desc">语言</span>
					<span class="guide-info">EN | FR</span>
				</li>
				<li>
					<span class="guide-desc">职业</span>
					<span class="guide-info">厨师</span>
				</li>
				<li>
					<span class="guide-desc">特长</span>
					<span class="guide-info">面包烘培</span>
				</li>
			</ul>
			<p class="guider-desc">
				她长期带领优人神鼓团员行脚台湾，以走一天路，打一场鼓的方式，与所生长的台湾土地及各地乡亲相遇交流。之后，他有幸为法国总理在其官邸烘培面包与甜点。
一九九九年，他和一位同仁开设了面包店，并开始为巴黎的米其林星级餐厅供应面包与糕点，包括米其林三星主厨黑旋风在内的共18颗米其林星的主厨餐厅。
			</p>
		</div>
	</div>
	<div class="view-spot">
		<div class="view-spot-entrance">
			<h2>跟随向导去旅行</h2>
		</div>
		<div class="item">
			<div class="spot-show">
				<div class="spot-img-ctn">
					<img src="./img/home/1.png">
				</div>
				<ul class="spot-summary">
					<li class="spot-price">
						<span>￥</span>4500<span>起</span>
					</li>
					<li class="spot-time">2<span>小时</span></li>
					<li class="spot-translator"><span>中文翻译</span></li>
				</ul>
				<div class="contry-mark">
					<img src="./img/home/2.jpg">
				</div>
			</div>
			<div class="spot-desc">
				<div class="spot-desc-header clearfix">
					<h3>在瑞士牛棚过家家</h3>
					<span>瑞士流森</span>
				</div>
				<div class="spot-desc-content">体验冰雪上的速度与激情, 和芬兰本土哈士奇雪橇犬一起雪地狂奔，亲自检验传说中的二哈到底有多聪明</div>
			</div>
		</div>
	</div>
	<div class="view-spot pic-carousel">
		<div class="pic-carousel-header">
			<i class="close-more-pic">×</i>
		</div>
		<div class="touchslider">
			<div class="touchslider-viewport" style="">
				<div style="width:640px;overflow:hidden">
					<div class="touchslider-item"><img src="./img/home/1.png"></div>
					<div class="touchslider-item"><img src="./img/home/3.png"></div>
					<div class="touchslider-item"><img src="./img/home/5.png"></div>
					<div class="touchslider-item"><img src="./img/home/6.png"></div>
				</div>
			</div>
			<div class="touchslider-nav">
				<span class="touchslider-nav-item touchslider-nav-item-current"></span>
				<span class="touchslider-nav-item"></span>
				<span class="touchslider-nav-item"></span>
				<span class="touchslider-nav-item"></span>
			</div>
		</div>
	</div>
	<script type="text/javascript" src="./js/jquery-1.6.3.min.js"></script>
	<script type="text/javascript" src="./js/jquery.touchslider.min.js"></script>
	<script type="text/javascript">
		$(function(){
			var picMark = 0;
			var viewportHeight = $(window).height()-120;
			function doPics(){
				$(".touchslider-item img").each(function(i, ele){
					var height = $(ele).height();
					var width = $(ele).width();
					var widE = width / 594;
					var htE = height / viewportHeight;
					
					if(width == 0){
						picMark = 1;//有时候图片还没有加载出来，所以在这做个标记，等到显示图片的时候根据这个标记判断是否要重新处理图片
						return;
					}

					if( widE > htE) {
						var maxE = widE;
					} else {
						var maxE = htE;
					}

					if(maxE > 1) {
						var toWid = new Number(width/maxE).toFixed(4);
						var toHeight = new Number(height/maxE).toFixed(4);
						$(ele).height(parseFloat(toHeight));
						$(ele).width(parseFloat(toWid));
						console.log(height + ' '+maxE+' '+ toHeight);
					}else{
						var toWid = widE;
						var toHeight = htE;
					}
				});
			}
			doPics();
			$('.see-more-pic').bind('click', function(){
				if(picMark == 1) doPics();
				$(".pic-carousel").css('visibility', 'visible');
			});
			$('.close-more-pic').bind('click', function(){
				$(".pic-carousel").css('visibility', 'hidden');
			});
			
			$(".touchslider-viewport, .touchslider-item").height(viewportHeight);
			
			$(".touchslider").touchSlider({
				mouseTouch: true,
				container: ".pic-carousel-cnt"
			});
		});
		
	</script>
</body>
</html>